<div class="container mt-4">
  <!-- ThÃ´ng tin thÃ nh viÃªn -->
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h4 class="mb-0">ThÃ´ng tin thÃ nh viÃªn</h4>
      <button *ngIf="!editing" class="btn btn-light btn-sm" (click)="editing = true">âœï¸ Chá»‰nh sá»­a</button>
    </div>

    <div class="card-body">
      <!-- Avatar -->
      <div class="text-center mb-4">
        <img
         [src]="member.avatarUrl || 'https://via.placeholder.com/100'"
         alt="Avatar"
         class="rounded-circle shadow"
         width="100"
         height="100"
         (click)="triggerAvatarInput()"
         style="cursor: pointer"
        />


        <input type="file" #avatarInput hidden (change)="onAvatarChange($event)" />
      </div>

      <!-- Form chá»‰nh sá»­a -->
      <form *ngIf="editing" name="editForm" (ngSubmit)="saveChanges()">
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">ğŸ‘¤ TÃªn</label>
            <input class="form-control" [(ngModel)]="member.name" name="name" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i</label>
            <input class="form-control" [(ngModel)]="member.phone" name="phone" required />
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">ğŸ§« Giá»›i tÃ­nh</label>
            <select class="form-select" [(ngModel)]="member.gender" name="gender">
              <option value="">-- Chá»n giá»›i tÃ­nh --</option>
              <option value="Nam">Nam</option>
              <option value="Ná»¯">Ná»¯</option>
              <option value="KhÃ¡c">KhÃ¡c</option>
            </select>
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-primary me-2">ğŸ’¾ LÆ°u</button>
          <button type="button" class="btn btn-secondary" (click)="cancelEdit()">âŒ Há»§y</button>
        </div>
      </form>

      <!-- Hiá»ƒn thá»‹ chá»‰ Ä‘á»c -->
      <div *ngIf="!editing">
        <div class="row mb-3">
          <div class="col-md-6"><strong>ğŸ‘¤ TÃªn:</strong> {{ member.name || '...' }}</div>
          <div class="col-md-6"><strong>ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {{ member.phone || '...' }}</div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6"><strong>ğŸ§« Giá»›i tÃ­nh:</strong> {{ member.gender || '...' }}</div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6"><strong>ğŸ—“ï¸ NgÃ y báº¯t Ä‘áº§u:</strong> {{ member.startDate || '...' }}</div>
          <div class="col-md-6"><strong>ğŸ”‘ Tráº¡ng thÃ¡i:</strong> {{ member.status || '...' }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lá»‹ch sá»­ hoáº¡t Ä‘á»™ng -->
  <div class="card shadow-sm mt-4">
    <div class="card-header bg-secondary text-white">
      <h5 class="mb-0">Lá»‹ch sá»­ hoáº¡t Ä‘á»™ng</h5>
    </div>
    <ul class="list-group list-group-flush">
      <li *ngFor="let activity of member.activities" class="list-group-item">
        <strong>{{ activity.date | date: 'dd/MM/yyyy' }}</strong>: {{ activity.title }}<br />
        <small class="text-muted">{{ activity.note }}</small>
      </li>
      <li *ngIf="!member.activities?.length" class="list-group-item text-muted">
        KhÃ´ng cÃ³ hoáº¡t Ä‘á»™ng nÃ o.
      </li>
    </ul>
  </div>
</div>
